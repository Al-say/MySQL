# MySQL试卷一-答案解析

## 一、单选题（共20题，每题2分，共40分）

1. 答案：C
   解析：DBS包含DB和DBMS。数据库系统（DBS）是由数据库（DB）、数据库管理系统（DBMS）、应用程序和数据库管理员（DBA）组成的集合。

2. 答案：B
   解析：概念模型是信息世界的模型，它是对现实世界数据特征的抽象，独立于具体的计算机系统。

3. 答案：D
   解析：模式（Schema）是数据库中全局逻辑结构和特征的描述，是所有用户的公共数据视图。

4. 答案：C
   解析：关系的模式对应基本表，子模式对应视图。视图是从一个或多个基本表导出的表。

5. 答案：B
   解析：原子性（Atomicity）指事务中包含的所有操作要么都做，要么都不做，是一个不可分割的工作单位。

6. 答案：A
   解析：A←→B表示属性A与B存在1:1的联系，即A→B且B→A，表示相互函数依赖。

7. 答案：D
   解析：CREATE属于DDL（数据定义语言），而Insert、Update、Delete属于DML（数据操作语言）。

8. 答案：C
   解析：一个关系可以有多个候选码和外码，但只能有一个主码。主码是从候选码中选出的一个。

9. 答案：C
   解析：3NF在2NF的基础上，消除了非主属性对候选键的传递函数依赖。

10. 答案：B
    解析：函数依赖A→B表示在关系R的任意实例中，如果两个元组的A属性值相等，则它们的B属性值也必定相等。

11. 答案：C
    解析：每个列必须有自己的名字，但不一定要取自不同的域。其他说法都是正确的。

12. 答案：C
    解析：X锁（排它锁）允许持锁事务既能读又能写被锁定的数据项。

13. 答案：C
    解析：GRANT命令用于授予用户权限，而REVOKE用于收回权限。

14. 答案：C
    解析：SET PASSWORD命令用于修改MySQL用户密码。

15. 答案：A
    解析：数据流图（DFD）是描述系统业务处理和数据流转的重要工具，常用于需求分析阶段。

16. 答案：B
    解析：概念结构设计阶段主要任务是设计E-R图，不涉及具体的数据库实现细节。

17. 答案：B
    解析：给定函数依赖集F={A→B,B→C}，存在部分函数依赖，所以最高达到2NF。

18. 答案：D
    解析：MySQL支持INSERT、UPDATE、DELETE三种触发器，不支持ALTER触发器。

19. 答案：A
    解析：executeUpdate()方法用于执行INSERT、UPDATE、DELETE等DML语句。

20. 答案：B
    解析：DECLARE用于定义存储过程中的变量，DELIMITER用于改变分隔符。

## 二、填空题（共10空，每空1分，共10分）

1. 答案：实体完整性、参照完整性、用户定义完整性
   解析：这三个是关系数据库的主要完整性约束规则。

2. 答案：逻辑独立性、物理独立性
   解析：通过两级映像，实现了数据的逻辑独立性和物理独立性。

3. 答案：共享锁S、排他锁X
   解析：基本的封锁类型包括共享锁（读锁）和排他锁（写锁）。

4. 答案：选择、投影、连接
   解析：选择（σ）、投影（π）、连接（⋈）是关系代数中的基本运算。

5. 答案：inout
   解析：存储过程参数有IN（输入）、OUT（输出）和INOUT（既可输入又可输出）三种类型。

## 三、判断题（共10题，每题1分，共10分）

1. （√）解析：TRUNCATE也可以清空表中的数据，但它不能用于带有外键约束的表。

2. （×）解析：相关子查询是在执行主查询的同时执行子查询，而不是先执行子查询。

3. （×）解析：为确保数据安全，采用先写日志后写数据的原则。

4. （√）解析：数据模型的三要素：数据结构、数据操作和数据的完整性约束。

5. （√）解析：自然连接要求两个关系具有相同的属性才能进行连接操作。

6. （√）解析：这三个都是关系型数据库管理系统。

7. （×）解析：MySQL默认用户是root，不是admin。

8. （×）解析：-u后面接用户名，而不是密码。密码使用-p选项。

9. （×）解析：数据流图的分解要适度，过分细化会增加复杂性。

10. （×）解析：3NF不一定属于BCNF，BCNF是比3NF更严格的范式。

## 四、查询设计题（共5题，每题4分，共20分）

1. 答案：
```sql
SELECT 书号, 书名 
FROM 书 
WHERE 书名 LIKE '__数%';
```
解析：LIKE中的`__`表示任意两个字符，`数`是要匹配的第三个字符。

2. 答案：
```sql
SELECT DISTINCT 姓名
FROM 读者 r
JOIN 借阅 b ON r.证件号 = b.证件号
WHERE b.还书时间 IS NULL;
```
解析：使用IS NULL判断未还书的记录，DISTINCT去除重复。

3. 答案：
```sql
SELECT 书号, COUNT(DISTINCT 证件号) as 借阅人数
FROM 借阅
GROUP BY 书号
HAVING COUNT(DISTINCT 证件号) > 3;
```
解析：使用GROUP BY和HAVING子句筛选借阅人数大于3的书籍。

4. 答案：
```sql
CREATE VIEW 计算机图书 AS
SELECT *
FROM 书
WHERE 书名 LIKE '%计算机%';
```
解析：创建视图，选择书名中包含"计算机"的图书。

5. 答案：
连接查询：
```sql
SELECT a.书号, a.书名
FROM 书 a, 书 b
WHERE b.书名 = '数据库原理'
AND a.价格 > b.价格;
```
子查询：
```sql
SELECT 书号, 书名
FROM 书
WHERE 价格 > (
    SELECT 价格
    FROM 书
    WHERE 书名 = '数据库原理'
);
```
解析：两种方式都可以实现查询，子查询方式更简洁。

## 五、简答题（10分）

1. 给定关系的分析：

（1）函数依赖分析（3分）：
- 学号 → 姓名，年龄，系别
- (学号,课程号) → 成绩

候选码：(学号,课程号)
主属性：学号,课程号
非主属性：姓名，年龄，系别，成绩

该关系属于1NF，因为存在对候选码的部分函数依赖。

（2）3NF分解（3分）：
- R1(学号,姓名,年龄,系别)  F1={学号→姓名,学号→年龄,学号→系别}
- R2(学号,课程号,成绩)  F2={(学号,课程号)→成绩}

解析：
- 将学生基本信息分离出来形成R1
- 将选课信息单独形成R2
- 这样既消除了部分函数依赖，也消除了传递函数依赖
