# MySQL数据库原理试卷四

## 一、选择题（共20题，每题2分，共40分）

1. 数据库管理系统的主要功能不包括（）。
   - A. 数据定义功能
   - B. 数据操纵功能
   - C. 数据打印功能
   - D. 数据控制功能

2. 关系数据库中的一个关系对应于（）。
   - A. 一张二维表
   - B. 一个文件系统
   - C. 一个数据项
   - D. 一条记录

3. 在关系数据库中，（）用来唯一标识一个元组。
   - A. 外键
   - B. 索引
   - C. 主键
   - D. 候选键

4. 事务的特性不包括（）。
   - A. 原子性
   - B. 一致性
   - C. 隔离性
   - D. 可扩展性

5. 下列哪项不属于SQL的数据定义语言（DDL）（）。
   - A. CREATE
   - B. ALTER
   - C. INSERT
   - D. DROP

6. 在关系代数运算中，从关系中选取若干列组成新关系的运算是（）。
   - A. 选择
   - B. 投影
   - C. 连接
   - D. 除法

7. 以下哪种索引类型最适合于频繁更新的字段（）。
   - A. B树索引
   - B. 散列索引
   - C. 位图索引
   - D. 全文索引

8. MySQL默认的存储引擎是（）。
   - A. InnoDB
   - B. MyISAM
   - C. Memory
   - D. Archive

9. 在E-R图中，（）用来表示实体的属性。
   - A. 矩形
   - B. 椭圆
   - C. 菱形
   - D. 三角形

10. 关系模式中的（）是用来联系两个表的公共属性。
    - A. 主键
    - B. 外键
    - C. 索引
    - D. 视图

11. 以下哪个命令用于撤销已授予的权限（）。
    - A. GRANT
    - B. REVOKE
    - C. DENY
    - D. DROP

12. 在数据库设计过程中，（）阶段的主要任务是将概念模型转换为具体的数据模型。
    - A. 需求分析
    - B. 概念设计
    - C. 逻辑设计
    - D. 物理设计

13. 视图的作用不包括（）。
    - A. 简化查询
    - B. 数据安全性
    - C. 数据独立性
    - D. 提高存储效率

14. 以下哪个不是触发器可以监视的数据操作（）。
    - A. INSERT
    - B. UPDATE
    - C. DELETE
    - D. SELECT

15. BCNF范式消除了（）。
    - A. 部分函数依赖
    - B. 决定因素中的非主属性
    - C. 传递函数依赖
    - D. 多值依赖

16. MySQL中用于开启事务的语句是（）。
    - A. START TRANSACTION
    - B. BEGIN TRANSACTION
    - C. SET TRANSACTION
    - D. OPEN TRANSACTION

17. 以下哪种情况最适合使用索引（）。
    - A. 表经常更新
    - B. 表很小
    - C. 字段经常在WHERE子句中使用
    - D. 字段包含大量NULL值

18. 数据库并发控制的主要目的是（）。
    - A. 提高系统性能
    - B. 保证数据一致性
    - C. 简化数据操作
    - D. 提供数据备份

19. 以下哪个不是合法的约束类型（）。
    - A. NOT NULL
    - B. UNIQUE
    - C. PRIMARY KEY
    - D. BETWEEN

20. 规范化的主要目的是（）。
    - A. 提高查询效率
    - B. 消除数据冗余
    - C. 增加存储空间
    - D. 优化表结构

## 二、判断题（共10题，每题1分，共10分）

1. 数据库的概念模型独立于任何一种具体的数据库管理系统。（）

2. 主键可以包含空值。（）

3. 视图中的数据是实际存储的。（）

4. 在一个关系中，任意两个元组的候选键值都不能相同。（）

5. InnoDB存储引擎不支持外键约束。（）

6. SQL语言中的SELECT语句属于DDL。（）

7. 数据库恢复的基础是日志文件。（）

8. 死锁只发生在并发事务中。（）

9. 一个表只能建立一个索引。（）

10. 规范化程度越高，查询效率一定越高。（）

## 三、SQL语句题（共5题，每题5分，共25分）

有以下数据表：
```sql
产品(产品编号，产品名称，单价，类别，库存量)
客户(客户编号，客户名称，联系电话，地址，信用等级)
订单(订单编号，客户编号，下单日期，总金额，状态)
订单明细(订单编号，产品编号，数量，实际单价)
```

请完成以下SQL查询：

1. 查询2023年销售总额排名前三的产品名称和销售总额。

2. 查询至少购买过所有类别产品的客户名称。

3. 创建一个视图，显示每个客户的订单数量、总金额和平均订单金额。

4. 查询从未被订购过的产品信息。

5. 统计每个类别的产品数量、平均单价和总库存量。

## 四、数据库设计题（15分）

设计一个学生选课系统的数据库，要求：

1. 分析系统的主要实体和联系（5分）
2. 画出E-R图（5分）
3. 将E-R图转换为关系模式，并说明主外键（5分）

系统需求：
- 记录学生的基本信息（学号、姓名、性别、班级等）
- 记录课程信息（课程号、课程名、学分、课时等）
- 记录教师信息（工号、姓名、职称、所属院系等）
- 一门课程可以由多个教师讲授
- 一个学生可以选修多门课程，一门课程可以被多个学生选修
- 需要记录学生选修课程的成绩信息

## 五、关系规范化题（10分）

给定关系模式R(A, B, C, D, E)，函数依赖集F={A→B, B→C, C→D, D→E}

1. 求出R的所有候选码（3分）
2. 判断R的范式级别（3分）
3. 将R分解成BCNF范式（4分）
