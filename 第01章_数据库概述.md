# 数据库概述

1、为什么要使用数据？

- 持久化：把数据保存到可掉电式存储设备中以供之后使用，数据持久化意味着将内村中的数据保存到硬盘上加以“**固化**”
- 作用：是将数据存储在关系型数据中，

2、数据库与数据库管理系统

2.1数据库的相关概念

| DB:数据库（Database）                                        |
| ------------------------------------------------------------ |
| 即存储数据的“仓库”，其本质是一个文件系统。他保存了一系列有组织的数据。 |
| DBMS：数据库管理系统（Database Management System）           |
| 是一种操纵和管理数据库的大型软件，用于建立、使用和维护数据库，对数据库进行统一管理和控制。用户通过数据库管理系统访问数据库中表内的数据 |
| SQL：结构化查询语言（Structured Query Language）             |
| 专门用来与数据库通信的语言。                                 |

2.2数据库与数据库管理系统的关系

​	数据库管理系统（DBMS）可以管理多个数据库，一般开发人员会针对每个应用创建一个数据库。为保存应用中实体的数据库，一般会在数据库创建多个表，以保存程序中实体用户的数据。

2.3常见的数据库管理系统排名（DBMS）

目前互联网上常见的数据库管理软件有Oracle（关系型数据库）、MySQL、MS SQL Server、DB2（银行）、PostgreSQL、Access、Sybase、Informix这几种

3.MySQL介绍

3.1概述

- MySQL是一个开放源代码的关系型数据库管理系统，由瑞典MySQL AB（创始人Michael Widenius）公司1995年开始开发，迅速成为开源数据库No.1
- 2008年被Sun收购（10亿美金），2009年Sun被Oracle收购。Maria DB应运而生。（MySQL的创造者担心MySQL有闭源的风险，因此创建了MySQL的分支项目Mara DB）
- MySQL6.x版本之后分为社区版和商业版。
- MySQL是一种关联数据库管理系统，将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。
- MySQL是一种关联数据库管理系统，将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。
- MySQL是开源的，所以你并不需要支付额外的费用。
- MySQL是可以定制的，采用了GPL（GNU General Public License）协议，你可以修改源码来开发自己的MySQl系统。
- MySQL支持大型的数据库。可以处理拥有上千万条记录的大型数据库。
- MySQL支持大型数据库，支持5000万条记录的数据库，32位系统表文件最大可支持4GB，64位系统支持最大的表文件位8TB.
- MySQL 使用标准的SQL数据语言形式。
- MySQL可以允许运行于多个系统上，并且支持多种语言。这些编程语言包括、C、C++、Python、Java、Perl、PHP和Ruby等

3.2MySQL发展史重大事件

MySQL的历史就是整个互联网的发展史。互联网业务从社交领域、电商领域到金融领域的发展，推动着应用对数据库的需求，对传统的数据库服务能力提出了挑战。高并发、高性能、高可用、轻资源、易维护、易扩展的需求，促进MySQL的长足发展。

1.4 Why choose MySQL?

为什么如此多的厂商要选用MySQL？大概总结的原因主要有以下几点：

1. 开放源代码，使用成本低
2. 性能卓越，服务稳定。
3. 软件体积小，使用简单，并且易于维护。
4. 历史悠久，社区用户非常活跃，遇到问题可以寻求帮助。
5. 许多互联网公司在用，经过了时间的验证。

1.6 Oracle vs MySQL

Oracle 更适合大型跨国企业的使用，因为他们对费用不敏感，但是对性能要求以及安全性有更高的要求。

MySQL由于其体积小、速度快、总体拥有成本低，可处理上千万条记录的大型数据库，尤其是开源源代码这一特点，使得很多互联网公司、中小型网站选择了MySQL作为网站数据库

4.RDBMS与非RDBMS

关系型数据库绝对是DBMS的主流

其中使用最多的DBMS分别是Oracle、MySQL和SQL Server。这些都是关系型数据库（RDBMS）

4.1关系型数据库（RDBMS）

4.1.1实质

- 这种类型的数据库是最古老的数据库类型，关系型数据库模型是把复杂的数据结构归结为简单的二元关系（即二维表格形式）。
- 关系型数据库以行（row）和列（column）的形式存储数据，以便用户理解。这一系列的行和列被称为表（table），一组表组成了一个库（database）。
- 表与表之间的数据记录有关系（relationship）。现实世界中的实体以及实体之间的各种联系均用关系模型来表示。关系型数据库，就是建立在关系模型基础上的数据库。
- SQL就是关系型数据库的查询语言

4.1.2

- 复杂查询
  可以用SQL语句方便的在一个表以及多个表之间做非常复杂的数据查询。
- 事务支持
  使得对于安全性能很高的数据访问要求得以实现。

4.2非关系型数据库（非RDBMS）

4.2.1介绍

非关系型数据库，可看成传统关系型数据库的功能阉割版本，基于键值对存储数据，不需要经过SQL层的解析，性能非常高。同时，通过减少不常用的功能，进一步提高性能。

目前基本上大部分主流的非关系型数据库都是免费的。

4.2.2有哪些非关系型数据库

相比于SQL，NoSQL泛指非关系型数据库，包括了榜单上的键值型数据库、文档型数据库、搜索引擎和列存储等，除此以外还包括图形数据库。也只有用NoSQL一词才能将这些技术囊括进来。

键值型数据库

键值型数据库通过Key-Value键值的方式来存储数据，其中Key和Value可以是简单的对象，也可以是复杂的对象。Key作为唯一的标识符，优点是查找速度快，在这方面明显优于关系型数据库，缺点是无法像关系型数据库一样使用条件过滤（比如WHERE），如果你不知道去哪里找数据，就要遍历所有的键，这就会消耗大量的计算。

键值型数据库典型的使用场景是作为内存缓存。Redis是最流行的键值型数据库。

文档型数据库

此类数据库可存放并获取文档，可以是XML、JSON等格式。在数据库中文档作为处理信息的基本单位，一个文档就相当于一条记录。文档数据库所存放的文档，就相当于键值数据库所存放的“值”。MongDB是最流行的文档型数据库。此外，还有Couch DB等。

搜索引擎数据库

虽然关系型数据库采用了索引提升检索效率，但是针对全文索引效率却较低。搜索引擎数据库是应用在搜索引擎领域的数据存储形式，由于搜索引擎会爬取大量的数据，并以特定的格式进行存储，这样在检索的时候才能保证性能最优。核心原理是“倒排索引”。

典型产品：Solr、Elastic search、Splunk等。

列式数据库

列式数据库是相对行式数据库，Oracle、MySQL、SQL Service等数据库都是采用行式存储（Row-based），而列式数据库是将数据按照列存储到数据库中，这样做的好处是可以大量降低系统的I/O，适合于分布式文件系统，不足在于功能相对有限。典型产品：HBase等。

图形数据库

图形数据库，利用了图这种数据结构存储了实体（对象）之间的关系。图形数据库最典型的例子就是社交网络中人与人的关系，数据模型主要是以节点和边（关系）来实现，特点在于能高效地解决复杂的关系问题。

图形数据库顾名思义，就是一种存储图形关系的数据库。它利用了图这种数据结构存储了实体（对象）之间的关系。关系型数据用于存储明确关系的数据，但对于复杂关系的数据存储却有些力不从心。如社交网络中人物之间的关系，如果用关系型数据库则非常复杂，用图形数据库将非常简单。典型产品：Neo4J、Info Grid等。

4.2.3 NoSQL的演变

由于SQL一直称霸DBMS，因此许多人在思考是否有一种数据技术能远离SQL，于是NoSQL诞生了，但是随着发展却发现越来越离不开SQL。到目前为止NoSQL阵营中都会有实现类似SQL的功能。下面“NoSQL”这个名词在不同时期的诠释，从这些释义的变化中可以看出NoSQL功能的演变：

NoSQL对SQL做出了很好的补充，比如实际开发中，有很多业务需求，其实并不需要完整的关系型数据库功能，非关系型数据库的功能就足够使用了。这种情况下，使用性能更高、成本更低的非关系型数据当然是更明智的选择。比如：日志收集、排行榜、定时器等。

4.3小结

NoSQL的分类很多，即便如此，在DBMS排名中，还是SQL阵营的比重更大，影响力前5的DBMS中有4个是关系型数据库，而排名前20的DBMS中也有12个是关系型数据库。所以说，掌握SQL是非常有必要的。

5.关系数据库设计规则

- 关系型数据库的典型就是数据表，这些数据表的组成都是结构化的（Structured）。
- 将数据放在表中，表再放到库中。
- 一个数据库可以有多个表，每个表都有一个名字，用来标识自己。表名具有唯一性。
- 表具有一些特性，这些特性定义了数据在表中如何存储，类似Java和Python中“类”的设计

5.1表、记录、字段

- E-R（entity-relationship，实体-联系）模型中有三个主要概念是：实体集、属性、联系集。

- 一个实体集（class）对应于数据表中的一个表（table)，一个实体（instance）则对应于数据库表中的一行（row），也称为一条记录（record）。一个属性（attribute）对应于数据库表中的一列（column），也称为一个字段（field）。

  ```
  ORM思想（Object Relational Mapping）
  
  ```

  

5.2表的关联关系

- 表与表之间的数据记录有关系（relationship）。现实世界中的各种实体以及实体之间的各种联系均用关系模型来表示。
- 四种：一对一关联、一对多关联、多对多关联、自我引用
- 

